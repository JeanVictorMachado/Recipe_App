{"ast":null,"code":"var _jsxFileName = \"/home/jean/Trybe/projetos-Trybe/sd-06-project-recipes-app/src/components/Categories/indexComidas.js\";\nimport React, { useContext } from 'react';\nimport './styles.css';\nimport ContextAPI from '../../Context/ContextAPI';\n\nconst CategoriesComidas = () => {\n  const {\n    apiValueSearch,\n    setApiValueSearch,\n    categories\n  } = useContext(ContextAPI);\n\n  const getSugestedFoods = async () => {\n    fetch('https://www.themealdb.com/api/json/v1/1/search.php?s=').then(foods => foods.json()).then(foods => setApiValueSearch({ ...apiValueSearch,\n      foods,\n      value: ''\n    }));\n  };\n\n  const filterApiValueSearch = async value => {\n    if (apiValueSearch.value === value) {\n      getSugestedFoods();\n    } else {\n      fetch(`https://www.themealdb.com/api/json/v1/1/filter.php?c=${value}`).then(foods => foods.json()).then(foods => setApiValueSearch({ ...apiValueSearch,\n        foods,\n        value\n      }));\n    }\n  };\n\n  const showAllFoods = async () => {\n    getSugestedFoods();\n  };\n\n  return !categories.meals ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, \"loading\") : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main-categories\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, categories.meals.map((element, index) => {\n    const number = 4;\n\n    if (index <= number) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        key: element.idCategory,\n        type: \"button\",\n        name: element.strCategory,\n        \"data-testid\": `${element.strCategory}-category-filter`,\n        onClick: e => filterApiValueSearch(e.target.name),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 15\n        }\n      }, element.strCategory));\n    }\n\n    return '';\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"All-category-filter\",\n    type: \"button\",\n    id: \"All\",\n    onClick: e => showAllFoods(e.target.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, \"All\"));\n};\n\nexport default CategoriesComidas;","map":{"version":3,"sources":["/home/jean/Trybe/projetos-Trybe/sd-06-project-recipes-app/src/components/Categories/indexComidas.js"],"names":["React","useContext","ContextAPI","CategoriesComidas","apiValueSearch","setApiValueSearch","categories","getSugestedFoods","fetch","then","foods","json","value","filterApiValueSearch","showAllFoods","meals","map","element","index","number","idCategory","strCategory","e","target","name","id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAO,cAAP;AACA,OAAOC,UAAP,MAAuB,0BAAvB;;AAEA,MAAMC,iBAAiB,GAAG,MAAM;AAC9B,QAAM;AAAEC,IAAAA,cAAF;AAAkBC,IAAAA,iBAAlB;AAAqCC,IAAAA;AAArC,MAAoDL,UAAU,CAACC,UAAD,CAApE;;AACA,QAAMK,gBAAgB,GAAG,YAAY;AACnCC,IAAAA,KAAK,CAAC,uDAAD,CAAL,CACGC,IADH,CACSC,KAAD,IAAWA,KAAK,CAACC,IAAN,EADnB,EAEGF,IAFH,CAESC,KAAD,IAAWL,iBAAiB,CAAC,EAAE,GAAGD,cAAL;AAAqBM,MAAAA,KAArB;AAA4BE,MAAAA,KAAK,EAAE;AAAnC,KAAD,CAFpC;AAGD,GAJD;;AAMA,QAAMC,oBAAoB,GAAG,MAAOD,KAAP,IAAiB;AAC5C,QAAIR,cAAc,CAACQ,KAAf,KAAyBA,KAA7B,EAAoC;AAClCL,MAAAA,gBAAgB;AACjB,KAFD,MAEO;AACLC,MAAAA,KAAK,CAAE,wDAAuDI,KAAM,EAA/D,CAAL,CACGH,IADH,CACSC,KAAD,IAAWA,KAAK,CAACC,IAAN,EADnB,EAEGF,IAFH,CAESC,KAAD,IAAWL,iBAAiB,CAAC,EAAE,GAAGD,cAAL;AAAqBM,QAAAA,KAArB;AAA4BE,QAAAA;AAA5B,OAAD,CAFpC;AAGD;AACF,GARD;;AAUA,QAAME,YAAY,GAAG,YAAY;AAC/BP,IAAAA,gBAAgB;AACjB,GAFD;;AAIA,SAAO,CAACD,UAAU,CAACS,KAAZ,gBACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADK,gBAGL;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGT,UAAU,CAACS,KAAX,CAAiBC,GAAjB,CAAqB,CAACC,OAAD,EAAUC,KAAV,KAAoB;AACxC,UAAMC,MAAM,GAAG,CAAf;;AACA,QAAID,KAAK,IAAIC,MAAb,EAAqB;AACnB,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,GAAG,EAAGF,OAAO,CAACG,UADhB;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,IAAI,EAAGH,OAAO,CAACI,WAHjB;AAIE,uBAAe,GAAEJ,OAAO,CAACI,WAAY,kBAJvC;AAKE,QAAA,OAAO,EAAIC,CAAD,IAAOT,oBAAoB,CAACS,CAAC,CAACC,MAAF,CAASC,IAAV,CALvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOIP,OAAO,CAACI,WAPZ,CADF,CADF;AAaD;;AACD,WAAO,EAAP;AACD,GAlBA,CADH,eAoBE;AACE,mBAAY,qBADd;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,EAAE,EAAC,KAHL;AAIE,IAAA,OAAO,EAAIC,CAAD,IAAOR,YAAY,CAACQ,CAAC,CAACC,MAAF,CAASE,EAAV,CAJ/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WApBF,CAHF;AAiCD,CAvDD;;AAyDA,eAAetB,iBAAf","sourcesContent":["import React, { useContext } from 'react';\nimport './styles.css';\nimport ContextAPI from '../../Context/ContextAPI';\n\nconst CategoriesComidas = () => {\n  const { apiValueSearch, setApiValueSearch, categories } = useContext(ContextAPI);\n  const getSugestedFoods = async () => {\n    fetch('https://www.themealdb.com/api/json/v1/1/search.php?s=')\n      .then((foods) => foods.json())\n      .then((foods) => setApiValueSearch({ ...apiValueSearch, foods, value: '' }));\n  };\n\n  const filterApiValueSearch = async (value) => {\n    if (apiValueSearch.value === value) {\n      getSugestedFoods();\n    } else {\n      fetch(`https://www.themealdb.com/api/json/v1/1/filter.php?c=${value}`)\n        .then((foods) => foods.json())\n        .then((foods) => setApiValueSearch({ ...apiValueSearch, foods, value }));\n    }\n  };\n\n  const showAllFoods = async () => {\n    getSugestedFoods();\n  };\n\n  return !categories.meals ? (\n    <p>loading</p>\n  ) : (\n    <div className=\"main-categories\">\n      {categories.meals.map((element, index) => {\n        const number = 4;\n        if (index <= number) {\n          return (\n            <div>\n              <button\n                key={ element.idCategory }\n                type=\"button\"\n                name={ element.strCategory }\n                data-testid={ `${element.strCategory}-category-filter` }\n                onClick={ (e) => filterApiValueSearch(e.target.name) }\n              >\n                { element.strCategory }\n              </button>\n            </div>\n          );\n        }\n        return '';\n      })}\n      <button\n        data-testid=\"All-category-filter\"\n        type=\"button\"\n        id=\"All\"\n        onClick={ (e) => showAllFoods(e.target.id) }\n      >\n        All\n      </button>\n    </div>\n  );\n};\n\nexport default CategoriesComidas;\n"]},"metadata":{},"sourceType":"module"}