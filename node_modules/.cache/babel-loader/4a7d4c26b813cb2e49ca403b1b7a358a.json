{"ast":null,"code":"var _jsxFileName = \"/home/jean/Trybe/projetos-Trybe/sd-06-project-recipes-app/src/components/SearchBar/index.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport ContextAPI from '../../Context/ContextAPI';\nimport { searchFoodIngredients, searchFoodName, searchFoodFirstLetter, searchAllDrink } from '../../services/aPI';\n\nconst SearchBar = () => {\n  const {\n    searchComponent,\n    setApiValueSearch,\n    apiValueSearch\n  } = useContext(ContextAPI);\n  const [nome, setNome] = useState('');\n  const [radioButton, setRadioButton] = useState('');\n\n  const handleChange = target => {\n    if (target.name === 'radio-button') setRadioButton(target.value);\n    if (target.name === 'text') setNome(target.value);\n  };\n\n  const handleShowcase = async () => {\n    const results = await searchAllDrink();\n    console.log(results);\n    setApiValueSearch({\n      results: results.categories\n    });\n  };\n\n  useEffect(() => {\n    handleShowcase();\n  }, []);\n\n  const apiOfIngredients = async () => {\n    const results = await searchFoodIngredients(nome); // console.log(results);\n\n    setApiValueSearch({\n      results\n    });\n  };\n\n  const apiOfName = async () => {\n    const results = await searchFoodName(nome);\n    console.log(results);\n    setApiValueSearch({\n      results\n    });\n  };\n\n  const apiOfFirstLetter = async () => {\n    if (nome.length > 1) {\n      return alert('Sua busca deve conter somente 1 (um) caracter');\n    }\n\n    const results = await searchFoodFirstLetter(nome); // console.log(results);\n\n    setApiValueSearch({\n      results\n    });\n  };\n\n  const handleChangeButton = () => {\n    switch (radioButton) {\n      case 'ingrediente':\n        return apiOfIngredients();\n\n      case 'nome':\n        return apiOfName();\n\n      case 'primeira-letra':\n        return apiOfFirstLetter();\n\n      default:\n        return '';\n    }\n  };\n\n  return searchComponent && /*#__PURE__*/React.createElement(\"div\", {\n    id: \"search-bar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, console.log(apiValueSearch.results), /*#__PURE__*/React.createElement(\"input\", {\n    \"data-testid\": \"search-input\",\n    name: \"text\",\n    type: \"text\",\n    onChange: e => handleChange(e.target),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"ingrediente-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    \"data-testid\": \"ingredient-search-radio\",\n    id: \"ingrediente-button\",\n    name: \"radio-button\",\n    value: \"ingrediente\",\n    onChange: e => handleChange(e.target),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }), \"Ingrediente\"), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"nome-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    \"data-testid\": \"name-search-radio\",\n    id: \"nome-button\",\n    name: \"radio-button\",\n    value: \"nome\",\n    onChange: e => handleChange(e.target),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }), \"Nome\"), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"primeira-letra\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    \"data-testid\": \"first-letter-search-radio\",\n    id: \"primeira-letra\",\n    name: \"radio-button\",\n    value: \"primeira-letra\",\n    onChange: e => handleChange(e.target),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }), \"Primeira Letra\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    id: \"primeira-letra\",\n    type: \"button\",\n    onClick: handleChangeButton,\n    \"data-testid\": \"exec-search-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }, \"Buscar\"));\n};\n\nexport default SearchBar;","map":{"version":3,"sources":["/home/jean/Trybe/projetos-Trybe/sd-06-project-recipes-app/src/components/SearchBar/index.js"],"names":["React","useContext","useState","useEffect","ContextAPI","searchFoodIngredients","searchFoodName","searchFoodFirstLetter","searchAllDrink","SearchBar","searchComponent","setApiValueSearch","apiValueSearch","nome","setNome","radioButton","setRadioButton","handleChange","target","name","value","handleShowcase","results","console","log","categories","apiOfIngredients","apiOfName","apiOfFirstLetter","length","alert","handleChangeButton","e"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport ContextAPI from '../../Context/ContextAPI';\n\nimport { searchFoodIngredients,\n  searchFoodName,\n  searchFoodFirstLetter,\n  searchAllDrink,\n} from '../../services/aPI';\n\nconst SearchBar = () => {\n  const { searchComponent, setApiValueSearch, apiValueSearch } = useContext(ContextAPI);\n  const [nome, setNome] = useState('');\n  const [radioButton, setRadioButton] = useState('');\n\n  const handleChange = (target) => {\n    if (target.name === 'radio-button') setRadioButton(target.value);\n\n    if (target.name === 'text') setNome(target.value);\n  };\n\n  const handleShowcase = async () => {\n    const results = await searchAllDrink();\n    console.log(results);\n    setApiValueSearch({\n      results: results.categories,\n    });\n  };\n\n  useEffect(() => {\n    handleShowcase();\n  }, []);\n\n  const apiOfIngredients = async () => {\n    const results = await searchFoodIngredients(nome);\n    // console.log(results);\n    setApiValueSearch({\n      results,\n    });\n  };\n\n  const apiOfName = async () => {\n    const results = await searchFoodName(nome);\n    console.log(results);\n    setApiValueSearch({\n      results,\n    });\n  };\n\n  const apiOfFirstLetter = async () => {\n    if (nome.length > 1) {\n      return alert('Sua busca deve conter somente 1 (um) caracter');\n    }\n    const results = await searchFoodFirstLetter(nome);\n    // console.log(results);\n    setApiValueSearch({\n      results,\n    });\n  };\n\n  const handleChangeButton = () => {\n    switch (radioButton) {\n    case 'ingrediente':\n      return apiOfIngredients();\n    case 'nome':\n      return apiOfName();\n    case 'primeira-letra':\n      return apiOfFirstLetter();\n    default:\n      return '';\n    }\n  };\n\n  return searchComponent && (\n    <div id=\"search-bar\">\n      {console.log(apiValueSearch.results)}\n      <input\n        data-testid=\"search-input\"\n        name=\"text\"\n        type=\"text\"\n        onChange={\n          (e) => handleChange(e.target)\n        }\n      />\n      <br />\n      <label htmlFor=\"ingrediente-button\">\n        <input\n          type=\"radio\"\n          data-testid=\"ingredient-search-radio\"\n          id=\"ingrediente-button\"\n          name=\"radio-button\"\n          value=\"ingrediente\"\n          onChange={ (e) => handleChange(e.target) }\n        />\n        Ingrediente\n      </label>\n      <label htmlFor=\"nome-button\">\n        <input\n          type=\"radio\"\n          data-testid=\"name-search-radio\"\n          id=\"nome-button\"\n          name=\"radio-button\"\n          value=\"nome\"\n          onChange={ (e) => handleChange(e.target) }\n        />\n        Nome\n      </label>\n      <label htmlFor=\"primeira-letra\">\n        <input\n          type=\"radio\"\n          data-testid=\"first-letter-search-radio\"\n          id=\"primeira-letra\"\n          name=\"radio-button\"\n          value=\"primeira-letra\"\n          onChange={ (e) => handleChange(e.target) }\n        />\n        Primeira Letra\n      </label>\n      <br />\n      <button\n        id=\"primeira-letra\"\n        type=\"button\"\n        onClick={ handleChangeButton }\n        data-testid=\"exec-search-btn\"\n      >\n        Buscar\n      </button>\n    </div>\n  );\n};\n\nexport default SearchBar;\n"]},"metadata":{},"sourceType":"module"}