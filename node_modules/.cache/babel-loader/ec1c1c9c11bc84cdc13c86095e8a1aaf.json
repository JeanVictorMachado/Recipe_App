{"ast":null,"code":"var _jsxFileName = \"/home/jean/Trybe/projetos-Trybe/sd-06-project-recipes-app/src/components/SearchBar/index.js\";\nimport React, { useContext, useState } from 'react';\nimport ContextAPI from '../../Context/ContextAPI';\nimport './styles.css';\nimport { searchFoodIngredients, searchFoodName, searchFoodFirstLetter, searchDrinkIngredients } from '../../services/aPI';\n\nconst SearchBar = () => {\n  const {\n    searchComponent,\n    setApiValueSearch\n  } = useContext(ContextAPI);\n  const [nome, setNome] = useState('');\n  const [radioButton, setRadioButton] = useState('');\n\n  const handleChange = target => {\n    if (target.name === 'radio-button') setRadioButton(target.value);\n    if (target.name === 'text') setNome(target.value);\n  };\n\n  const apiOfIngredients = async () => {\n    if (window.location.pathname === '/comidas') {\n      const resultsFoods = await searchFoodIngredients(nome);\n      setApiValueSearch({\n        results: resultsFoods\n      });\n    } else {\n      const resultsDrinks = await searchDrinkIngredients(nome);\n      setApiValueSearch({\n        results: resultsDrinks\n      });\n    }\n  };\n\n  const apiOfName = async () => {\n    const results = await searchFoodName(nome); // console.log(results);\n\n    setApiValueSearch({\n      results\n    });\n  };\n\n  const apiOfFirstLetter = async () => {\n    if (nome.length > 1) {\n      return alert('Sua busca deve conter somente 1 (um) caracter');\n    }\n\n    const results = await searchFoodFirstLetter(nome); // console.log(results);\n\n    setApiValueSearch({\n      results\n    });\n  };\n\n  const handleChangeButton = () => {\n    switch (radioButton) {\n      case 'ingrediente':\n        return apiOfIngredients();\n\n      case 'nome':\n        return apiOfName();\n\n      case 'primeira-letra':\n        return apiOfFirstLetter();\n\n      default:\n        return '';\n    }\n  };\n\n  return searchComponent && /*#__PURE__*/React.createElement(\"div\", {\n    id: \"search-bar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    \"data-testid\": \"search-input\",\n    name: \"text\",\n    type: \"text\",\n    onChange: e => handleChange(e.target),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"ingrediente-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    \"data-testid\": \"ingredient-search-radio\",\n    id: \"ingrediente-button\",\n    name: \"radio-button\",\n    value: \"ingrediente\",\n    onChange: e => handleChange(e.target),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }), \"Ingrediente\"), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"nome-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    \"data-testid\": \"name-search-radio\",\n    id: \"nome-button\",\n    name: \"radio-button\",\n    value: \"nome\",\n    onChange: e => handleChange(e.target),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }), \"Nome\"), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"primeira-letra\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    \"data-testid\": \"first-letter-search-radio\",\n    id: \"primeira-letra\",\n    name: \"radio-button\",\n    value: \"primeira-letra\",\n    onChange: e => handleChange(e.target),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }), \"Primeira Letra\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    id: \"primeira-letra\",\n    type: \"button\",\n    onClick: handleChangeButton,\n    \"data-testid\": \"exec-search-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, \"Buscar\"));\n};\n\nexport default SearchBar;","map":{"version":3,"sources":["/home/jean/Trybe/projetos-Trybe/sd-06-project-recipes-app/src/components/SearchBar/index.js"],"names":["React","useContext","useState","ContextAPI","searchFoodIngredients","searchFoodName","searchFoodFirstLetter","searchDrinkIngredients","SearchBar","searchComponent","setApiValueSearch","nome","setNome","radioButton","setRadioButton","handleChange","target","name","value","apiOfIngredients","window","location","pathname","resultsFoods","results","resultsDrinks","apiOfName","apiOfFirstLetter","length","alert","handleChangeButton","e"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport ContextAPI from '../../Context/ContextAPI';\nimport './styles.css';\n\nimport { searchFoodIngredients,\n  searchFoodName,\n  searchFoodFirstLetter,\n  searchDrinkIngredients,\n} from '../../services/aPI';\n\nconst SearchBar = () => {\n  const { searchComponent, setApiValueSearch } = useContext(ContextAPI);\n  const [nome, setNome] = useState('');\n  const [radioButton, setRadioButton] = useState('');\n\n  const handleChange = (target) => {\n    if (target.name === 'radio-button') setRadioButton(target.value);\n\n    if (target.name === 'text') setNome(target.value);\n  };\n\n  const apiOfIngredients = async () => {\n    if (window.location.pathname === '/comidas') {\n      const resultsFoods = await searchFoodIngredients(nome);\n\n      setApiValueSearch({\n        results: resultsFoods,\n      });\n    } else {\n      const resultsDrinks = await searchDrinkIngredients(nome);\n\n      setApiValueSearch({\n        results: resultsDrinks,\n      });\n    }\n  };\n\n  const apiOfName = async () => {\n    const results = await searchFoodName(nome);\n    // console.log(results);\n    setApiValueSearch({\n      results,\n    });\n  };\n\n  const apiOfFirstLetter = async () => {\n    if (nome.length > 1) {\n      return alert('Sua busca deve conter somente 1 (um) caracter');\n    }\n    const results = await searchFoodFirstLetter(nome);\n    // console.log(results);\n    setApiValueSearch({\n      results,\n    });\n  };\n\n  const handleChangeButton = () => {\n    switch (radioButton) {\n    case 'ingrediente':\n      return apiOfIngredients();\n    case 'nome':\n      return apiOfName();\n    case 'primeira-letra':\n      return apiOfFirstLetter();\n    default:\n      return '';\n    }\n  };\n\n  return searchComponent && (\n    <div id=\"search-bar\">\n      {/* {console.log(window.location.pathname)} */}\n      <input\n        data-testid=\"search-input\"\n        name=\"text\"\n        type=\"text\"\n        onChange={\n          (e) => handleChange(e.target)\n        }\n      />\n      <br />\n      <label htmlFor=\"ingrediente-button\">\n        <input\n          type=\"radio\"\n          data-testid=\"ingredient-search-radio\"\n          id=\"ingrediente-button\"\n          name=\"radio-button\"\n          value=\"ingrediente\"\n          onChange={ (e) => handleChange(e.target) }\n        />\n        Ingrediente\n      </label>\n      <label htmlFor=\"nome-button\">\n        <input\n          type=\"radio\"\n          data-testid=\"name-search-radio\"\n          id=\"nome-button\"\n          name=\"radio-button\"\n          value=\"nome\"\n          onChange={ (e) => handleChange(e.target) }\n        />\n        Nome\n      </label>\n      <label htmlFor=\"primeira-letra\">\n        <input\n          type=\"radio\"\n          data-testid=\"first-letter-search-radio\"\n          id=\"primeira-letra\"\n          name=\"radio-button\"\n          value=\"primeira-letra\"\n          onChange={ (e) => handleChange(e.target) }\n        />\n        Primeira Letra\n      </label>\n      <br />\n      <button\n        id=\"primeira-letra\"\n        type=\"button\"\n        onClick={ handleChangeButton }\n        data-testid=\"exec-search-btn\"\n      >\n        Buscar\n      </button>\n    </div>\n  );\n};\n\nexport default SearchBar;\n"]},"metadata":{},"sourceType":"module"}