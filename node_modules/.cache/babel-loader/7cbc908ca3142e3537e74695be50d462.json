{"ast":null,"code":"var _jsxFileName = \"/home/jean/Trybe/projetos-Trybe/sd-06-project-recipes-app/src/components/ShareBtn/index.js\";\nimport React, { useEffect, useState } from 'react';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport shareIcon from \"../../images/shareIcon.svg\";\n\nfunction ShareButton() {\n  const [windowLink, setWindowLink] = useState();\n  const [linkCopied, setLinkCopied] = useState(false);\n\n  const handleShareClick = () => {\n    let url = window.location.href;\n\n    if (url.includes('in-progress')) {\n      url = url.split('/in-progress');\n    }\n\n    setWindowLink(url[0]);\n    setLinkCopied(true);\n  };\n\n  useEffect(() => {\n    let url = window.location.href;\n    console.log(url);\n\n    if (url.includes('in-progress')) {\n      url = url.split('/in-progress');\n    }\n\n    setWindowLink(url[0]);\n  }, []);\n  return /*#__PURE__*/React.createElement(CopyToClipboard, {\n    text: windowLink,\n    onCopy: () => setLinkCopied(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"share-btn\",\n    onClick: handleShareClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: shareIcon,\n    alt: \"shareIcon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  })), linkCopied ? /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 23\n    }\n  }, \"Link copiado!\") : null));\n}\n\nexport default ShareButton;","map":{"version":3,"sources":["/home/jean/Trybe/projetos-Trybe/sd-06-project-recipes-app/src/components/ShareBtn/index.js"],"names":["React","useEffect","useState","CopyToClipboard","ShareButton","windowLink","setWindowLink","linkCopied","setLinkCopied","handleShareClick","url","window","location","href","includes","split","console","log","shareIcon"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,eAAT,QAAgC,yBAAhC;;;AAGA,SAASC,WAAT,GAAuB;AACrB,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BJ,QAAQ,EAA5C;AACA,QAAM,CAACK,UAAD,EAAaC,aAAb,IAA8BN,QAAQ,CAAC,KAAD,CAA5C;;AAEA,QAAMO,gBAAgB,GAAG,MAAM;AAC7B,QAAIC,GAAG,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAA1B;;AAEA,QAAIH,GAAG,CAACI,QAAJ,CAAa,aAAb,CAAJ,EAAiC;AAC/BJ,MAAAA,GAAG,GAAGA,GAAG,CAACK,KAAJ,CAAU,cAAV,CAAN;AACD;;AAEDT,IAAAA,aAAa,CAACI,GAAG,CAAC,CAAD,CAAJ,CAAb;AACAF,IAAAA,aAAa,CAAC,IAAD,CAAb;AACD,GATD;;AAWAP,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIS,GAAG,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAA1B;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYP,GAAZ;;AACA,QAAIA,GAAG,CAACI,QAAJ,CAAa,aAAb,CAAJ,EAAiC;AAC/BJ,MAAAA,GAAG,GAAGA,GAAG,CAACK,KAAJ,CAAU,cAAV,CAAN;AACD;;AAEDT,IAAAA,aAAa,CAACI,GAAG,CAAC,CAAD,CAAJ,CAAb;AACD,GARQ,EAQN,EARM,CAAT;AAUA,sBACE,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAGL,UAAxB;AAAqC,IAAA,MAAM,EAAG,MAAMG,aAAa,CAAC,IAAD,CAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,mBAAY,WAFd;AAGE,IAAA,OAAO,EAAGC,gBAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE;AACE,IAAA,GAAG,EAAGS,SADR;AAEE,IAAA,GAAG,EAAC,WAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADF,EAWGX,UAAU,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAH,GAAgC,IAX7C,CADF,CADF;AAiBD;;AAED,eAAeH,WAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport shareIcon from '../../images/shareIcon.svg';\n\nfunction ShareButton() {\n  const [windowLink, setWindowLink] = useState();\n  const [linkCopied, setLinkCopied] = useState(false);\n\n  const handleShareClick = () => {\n    let url = window.location.href;\n\n    if (url.includes('in-progress')) {\n      url = url.split('/in-progress');\n    }\n\n    setWindowLink(url[0]);\n    setLinkCopied(true);\n  };\n\n  useEffect(() => {\n    let url = window.location.href;\n    console.log(url);\n    if (url.includes('in-progress')) {\n      url = url.split('/in-progress');\n    }\n\n    setWindowLink(url[0]);\n  }, []);\n\n  return (\n    <CopyToClipboard text={ windowLink } onCopy={ () => setLinkCopied(true) }>\n      <div>\n        <button\n          type=\"button\"\n          data-testid=\"share-btn\"\n          onClick={ handleShareClick }\n        >\n          <img\n            src={ shareIcon }\n            alt=\"shareIcon\"\n          />\n        </button>\n        {linkCopied ? <span>Link copiado!</span> : null}\n      </div>\n    </CopyToClipboard>\n  );\n}\n\nexport default ShareButton;\n"]},"metadata":{},"sourceType":"module"}