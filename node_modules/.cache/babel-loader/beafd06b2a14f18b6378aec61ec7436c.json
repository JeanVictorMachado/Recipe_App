{"ast":null,"code":"var _jsxFileName = \"/home/jean/Trybe/projetos-Trybe/sd-06-project-recipes-app/src/Pages/DetalhesComidas.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { detailsFoodById, showSugestedDrinks } from '../services/aPI';\nimport './DetalhesComida.css';\nimport shareIcon from \"../images/shareIcon.svg\";\nimport whiteHeartIcon from \"../images/whiteHeartIcon.svg\";\nimport blackHeartIcon from \"../images/blackHeartIcon.svg\";\n\nconst DetalhesComida = () => {\n  const [stateLocal, setStatelocal] = useState();\n  const [stateSugestions, setSugestions] = useState();\n  const [stateButton, setStateButton] = useState({\n    initialRecipe: false\n  });\n  const [stateFavorite, setStateFavorite] = useState({\n    heart: false\n  });\n  const idFood = useParams().id;\n\n  const handleIdDetails = async () => {\n    const recipeById = await detailsFoodById(idFood);\n    setStatelocal({ ...stateLocal,\n      food: recipeById\n    });\n  };\n\n  const getSugestedFoods = async () => {\n    const drinks = await showSugestedDrinks();\n    setSugestions(drinks);\n  };\n\n  useEffect(() => {\n    handleIdDetails();\n    getSugestedFoods();\n  }, []);\n\n  const getIngredientsOrMeasure = param => {\n    const dataObject = stateLocal.food.meals[0];\n    const dataKeys = Object.keys(dataObject).filter(key => key.includes(param) && dataObject[key] !== '' && dataObject[key] !== ' ');\n    const ingredients = dataKeys.map(key => dataObject[key]);\n    return ingredients;\n  };\n\n  const progressButton = () => {\n    setStateButton({\n      initialRecipe: !stateButton.initialRecipe\n    });\n  };\n\n  const handleFavorite = () => {\n    setStateFavorite({\n      heart: !stateFavorite.heart\n    });\n    const favoriteRecipes = [{\n      id: stateLocal.food.meals[0].idMeal,\n      type: 'comida',\n      area: stateLocal.food.meals[0].srtArea,\n      category: stateLocal.food.meals[0].strCategory,\n      alcoholicOrNot: '',\n      name: stateLocal.food.meals[0].strMeal,\n      image: stateLocal.food.meals[0].strMealThumb\n    }];\n    const heartBlack = {\n      heart: !stateFavorite.heart\n    };\n    localStorage.setItem('favoriteRecipes', JSON.stringify(favoriteRecipes));\n    localStorage.setItem('heart', JSON.stringify(heartBlack));\n    alert('Salvo com Sucesso');\n  };\n\n  const number = 5;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main-principal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, stateLocal ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, console.log(stateLocal.food.meals[0]), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-initial\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": \"recipe-photo\",\n    className: \"img-initial\",\n    src: stateLocal.food.meals[0].strMealThumb,\n    alt: stateLocal.food.meals[0].strMeal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title-e-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"category\",\n    \"data-testid\": \"recipe-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, stateLocal.food.meals[0].strCategory), /*#__PURE__*/React.createElement(\"span\", {\n    \"data-testid\": \"recipe-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, stateLocal.food.meals[0].strMeal), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": \"share-btn\",\n    src: shareIcon,\n    alt: \"shareIcon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: handleFavorite,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": \"favorite-btn\",\n    src: !stateFavorite.heart ? whiteHeartIcon : blackHeartIcon,\n    alt: \"whiteHeartIcon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ingredients\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  }, \"Ingredients\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  }, getIngredientsOrMeasure('strIngredient').map((ingred, i) => /*#__PURE__*/React.createElement(\"li\", {\n    \"data-testid\": `${i}-ingredient-name-and-measure`,\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 19\n    }\n  }, `${ingred} - ${getIngredientsOrMeasure('strMeasure')[i]}`)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }, \"Instructions\"), /*#__PURE__*/React.createElement(\"div\", {\n    \"data-testid\": \"instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 15\n    }\n  }, stateLocal.food.meals[0].strInstructions)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }, \"Video\"), /*#__PURE__*/React.createElement(\"a\", {\n    \"data-testid\": \"video\",\n    href: stateLocal.food.meals[0].strYoutube,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: stateLocal.food.meals[0].strMealThumb,\n    alt: stateLocal.food.meals[0].strMeal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }, \"Recomendadas\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main-recomendations\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }, stateSugestions && stateSugestions.drinks.map((drink, index) => {\n    if (index <= number) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"main-scroll\",\n        key: drink.strDrink,\n        \"data-testid\": `${index}-recomendation-card`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        \"data-testid\": `${index}-recomendation-title`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 23\n        }\n      }, drink.strDrink), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"button\",\n        onClick: () => handleIdDetails(drink.idDrink),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: `/comidas/${drink.idDrink}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"img-recomendations\",\n        width: \"200\",\n        src: drink.strDrinkThumb,\n        alt: drink.strDrink,\n        \"data-testid\": `${index}-card-img`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 27\n        }\n      }))));\n    }\n\n    return '';\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-initial-recipe\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"start-recipe-btn\",\n    onClick: progressButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"link-button\",\n    to: `/comidas/${stateLocal.food.meals[0].idMeal}/in-progress`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }\n  }, !stateButton.initialRecipe ? 'Iniciar Receita' : 'Continuar Receita'))))) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 11\n    }\n  }, \"Loading...\"));\n};\n\nexport default DetalhesComida;","map":{"version":3,"sources":["/home/jean/Trybe/projetos-Trybe/sd-06-project-recipes-app/src/Pages/DetalhesComidas.jsx"],"names":["React","useEffect","useState","useParams","Link","detailsFoodById","showSugestedDrinks","DetalhesComida","stateLocal","setStatelocal","stateSugestions","setSugestions","stateButton","setStateButton","initialRecipe","stateFavorite","setStateFavorite","heart","idFood","id","handleIdDetails","recipeById","food","getSugestedFoods","drinks","getIngredientsOrMeasure","param","dataObject","meals","dataKeys","Object","keys","filter","key","includes","ingredients","map","progressButton","handleFavorite","favoriteRecipes","idMeal","type","area","srtArea","category","strCategory","alcoholicOrNot","name","strMeal","image","strMealThumb","heartBlack","localStorage","setItem","JSON","stringify","alert","number","console","log","shareIcon","whiteHeartIcon","blackHeartIcon","ingred","i","strInstructions","strYoutube","drink","index","strDrink","idDrink","strDrinkThumb"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport { useParams } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { detailsFoodById, showSugestedDrinks } from '../services/aPI';\nimport './DetalhesComida.css';\n\nimport shareIcon from '../images/shareIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\n\nconst DetalhesComida = () => {\n  const [stateLocal, setStatelocal] = useState();\n  const [stateSugestions, setSugestions] = useState();\n  const [stateButton, setStateButton] = useState({\n    initialRecipe: false,\n  });\n  const [stateFavorite, setStateFavorite] = useState({\n    heart: false,\n  });\n\n  const idFood = useParams().id;\n\n  const handleIdDetails = async () => {\n    const recipeById = await detailsFoodById(idFood);\n\n    setStatelocal({\n      ...stateLocal,\n      food: recipeById,\n    });\n  };\n\n  const getSugestedFoods = async () => {\n    const drinks = await showSugestedDrinks();\n\n    setSugestions(drinks);\n  };\n\n  useEffect(() => {\n    handleIdDetails();\n    getSugestedFoods();\n  }, []);\n\n  const getIngredientsOrMeasure = (param) => {\n    const dataObject = stateLocal.food.meals[0];\n\n    const dataKeys = Object.keys(dataObject)\n      .filter((key) => key.includes(param)\n        && dataObject[key] !== '' && dataObject[key] !== ' ');\n\n    const ingredients = dataKeys\n      .map((key) => dataObject[key]);\n\n    return ingredients;\n  };\n\n  const progressButton = () => {\n    setStateButton({\n      initialRecipe: !stateButton.initialRecipe,\n    });\n  };\n\n  const handleFavorite = () => {\n    setStateFavorite({\n      heart: !stateFavorite.heart,\n    });\n\n    const favoriteRecipes = [{\n      id: stateLocal.food.meals[0].idMeal,\n      type: 'comida',\n      area: stateLocal.food.meals[0].srtArea,\n      category: stateLocal.food.meals[0].strCategory,\n      alcoholicOrNot: '',\n      name: stateLocal.food.meals[0].strMeal,\n      image: stateLocal.food.meals[0].strMealThumb,\n    }];\n\n    const heartBlack = {\n      heart: !stateFavorite.heart,\n    };\n\n    localStorage.setItem('favoriteRecipes', JSON.stringify(favoriteRecipes));\n    localStorage.setItem('heart', JSON.stringify(heartBlack));\n\n    alert('Salvo com Sucesso');\n  };\n\n  const number = 5;\n\n  return (\n    <div className=\"main-principal\">\n      {stateLocal ? (\n        <div className=\"container-main\">\n          {console.log(stateLocal.food.meals[0])}\n          <div className=\"container-initial\">\n            <img\n              data-testid=\"recipe-photo\"\n              className=\"img-initial\"\n              src={ stateLocal.food.meals[0].strMealThumb }\n              alt={ stateLocal.food.meals[0].strMeal }\n            />\n            <div className=\"title-e-icons\">\n              <div\n                className=\"category\"\n                data-testid=\"recipe-category\"\n              >\n                {stateLocal.food.meals[0].strCategory}\n              </div>\n              <span data-testid=\"recipe-title\">\n                { stateLocal.food.meals[0].strMeal }\n              </span>\n              <div>\n                <button\n                  type=\"button\"\n                >\n                  <img\n                    data-testid=\"share-btn\"\n                    src={ shareIcon }\n                    alt=\"shareIcon\"\n                  />\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={ handleFavorite }\n                >\n                  <img\n                    data-testid=\"favorite-btn\"\n                    src={ !stateFavorite.heart ? whiteHeartIcon : blackHeartIcon }\n                    alt=\"whiteHeartIcon\"\n                  />\n                </button>\n              </div>\n            </div>\n            <div className=\"ingredients\">\n              <span>Ingredients</span>\n              <ul>\n                {getIngredientsOrMeasure('strIngredient').map((ingred, i) => (\n                  <li\n                    data-testid={ `${i}-ingredient-name-and-measure` }\n                    key={ i }\n                  >\n                    {`${ingred} - ${getIngredientsOrMeasure('strMeasure')[i]}`}\n                  </li>\n                ))}\n              </ul>\n            </div>\n            <div className=\"instructions\">\n              <span>Instructions</span>\n              <div data-testid=\"instructions\">\n                {stateLocal.food.meals[0].strInstructions}\n              </div>\n            </div>\n            <div className=\"video\">\n              <span>Video</span>\n              <a\n                data-testid=\"video\"\n                href={ stateLocal.food.meals[0].strYoutube }\n              >\n                <img\n                  src={ stateLocal.food.meals[0].strMealThumb }\n                  alt={ stateLocal.food.meals[0].strMeal }\n                />\n              </a>\n            </div>\n            <span>Recomendadas</span>\n            <div className=\"main-recomendations\">\n              { stateSugestions && stateSugestions.drinks.map((drink, index) => {\n                if (index <= number) {\n                  return (\n                    <div\n                      className=\"main-scroll\"\n                      key={ drink.strDrink }\n                      data-testid={ `${index}-recomendation-card` }\n                    >\n                      <p data-testid={ `${index}-recomendation-title` }>\n                        {drink.strDrink}\n                      </p>\n                      <button\n                        type=\"button\"\n                        className=\"button\"\n                        onClick={ () => handleIdDetails(drink.idDrink) }\n                      >\n                        <Link to={ `/comidas/${drink.idDrink}` }>\n                          <img\n                            className=\"img-recomendations\"\n                            width=\"200\"\n                            src={ drink.strDrinkThumb }\n                            alt={ drink.strDrink }\n                            data-testid={ `${index}-card-img` }\n                          />\n                        </Link>\n                      </button>\n                    </div>\n                  );\n                }\n                return '';\n              })}\n            </div>\n            <div className=\"button-initial-recipe\">\n              <button\n                type=\"button\"\n                data-testid=\"start-recipe-btn\"\n                onClick={ progressButton }\n              >\n                <Link\n                  className=\"link-button\"\n                  to={ `/comidas/${stateLocal.food.meals[0].idMeal}/in-progress` }\n                >\n                  {!stateButton.initialRecipe ? 'Iniciar Receita' : 'Continuar Receita'}\n                </Link>\n              </button>\n            </div>\n          </div>\n        </div>\n      ) : <div>Loading...</div>}\n    </div>\n  );\n};\n\nexport default DetalhesComida;\n"]},"metadata":{},"sourceType":"module"}